public class RunWithSCM {
                    protected User adapt(String id) {
                        // TODO: Probably it should not auto-create users
                        return User.getById(id, true);
                    }

            public Iterator<User> iterator() {
                return new AdaptedIterator<String,User>(culpritIds.iterator()) {
                    protected User adapt(String id) {
                        // TODO: Probably it should not auto-create users
                        return User.getById(id, true);
                    }
                };
            }

    @Exported
    @Nonnull default Set<User> getCulprits() {
        if (shouldCalculateCulprits()) {
            return calculateCulprits();
        }

        return new AbstractSet<User>() {
            private Set<String> culpritIds = ImmutableSet.copyOf(getCulpritIds());

            public Iterator<User> iterator() {
                return new AdaptedIterator<String,User>(culpritIds.iterator()) {
                    protected User adapt(String id) {
                        // TODO: Probably it should not auto-create users
                        return User.getById(id, true);
                    }
                };
            }

            public int size() {
                return culpritIds.size();
            }
        };
    }

}