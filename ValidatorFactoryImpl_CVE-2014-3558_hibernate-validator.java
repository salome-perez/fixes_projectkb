public class ValidatorFactoryImpl {
	private List<ValidatedValueUnwrapper<?>> getPropertyConfiguredValidatedValueHandlers(
			Map<String, String> properties) {
		String propertyValue = properties.get( HibernateValidatorConfiguration.VALIDATED_VALUE_HANDLERS );

		if ( propertyValue == null || propertyValue.isEmpty() ) {
			return Collections.emptyList();
		}

		String[] handlerNames = propertyValue.split( "," );
		List<ValidatedValueUnwrapper<?>> handlers = newArrayList( handlerNames.length );

		for ( String handlerName : handlerNames ) {
			@SuppressWarnings("unchecked")
			Class<? extends ValidatedValueUnwrapper<?>> handlerType = (Class<? extends ValidatedValueUnwrapper<?>>)
					run( LoadClass.action( handlerName, ValidatorFactoryImpl.class ) );
			handlers.add( run( NewInstance.action( handlerType, "validated value handler class" ) ) );
		}

		return handlers;
	}

}