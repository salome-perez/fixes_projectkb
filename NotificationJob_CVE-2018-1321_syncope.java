public class NotificationJob {
    @Override
    public void execute(final JobExecutionContext context) throws JobExecutionException {
        LOG.debug("Waking up...");

        for (String domain : domainsHolder.getDomains().keySet()) {
            try {
                AuthContextUtils.execWithAuthContext(domain, new AuthContextUtils.Executable<Void>() {

                    @Override
                    public Void exec() {
                        try {
                            delegate.execute();
                        } catch (Exception e) {
                            LOG.error("While sending out notifications", e);
                            throw new RuntimeException(e);
                        }

                        return null;
                    }
                });
            } catch (RuntimeException e) {
                LOG.error("While sending out notifications", e);
                throw new JobExecutionException("While sending out notifications", e);
            }
        }

        LOG.debug("Sleeping again...");
    }

}