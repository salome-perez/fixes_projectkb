public class WebRequestDataBinder {
	private void bindParts(HttpServletRequest request, MutablePropertyValues mpvs) {
		try {
			MultiValueMap<String, Part> map = new LinkedMultiValueMap<>();
			for (Part part : request.getParts()) {
				map.add(part.getName(), part);
			}
			map.forEach((key, values) -> {
				if (values.size() == 1) {
					Part part = values.get(0);
					if (isBindEmptyMultipartFiles() || part.getSize() > 0) {
						mpvs.add(key, part);
					}
				}
				else {
					mpvs.add(key, values);
				}
			});
		}
		catch (Exception ex) {
			throw new MultipartException("Failed to get request parts", ex);
		}
	}

}