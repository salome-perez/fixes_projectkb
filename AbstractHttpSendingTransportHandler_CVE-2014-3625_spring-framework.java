public class AbstractHttpSendingTransportHandler {
	protected final String getCallbackParam(ServerHttpRequest request) {
		String query = request.getURI().getQuery();
		MultiValueMap<String, String> params = UriComponentsBuilder.newInstance().query(query).build().getQueryParams();
		String value = params.getFirst("c");
		try {
			return (!StringUtils.isEmpty(value) ? UriUtils.decode(value, "UTF-8") : null);
		}
		catch (UnsupportedEncodingException ex) {
			// should never happen
			throw new SockJsException("Unable to decode callback query parameter", null, ex);
		}
	}

}