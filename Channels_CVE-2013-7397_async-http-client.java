public class Channels {
    private SSLEngine createSSLEngine() throws IOException, GeneralSecurityException {
        
        if (nettyProviderConfig.getSslEngineFactory() != null) {
            return nettyProviderConfig.getSslEngineFactory().newSSLEngine();
        
        } else {
            SSLContext sslContext = config.getSSLContext();
            if (sslContext == null)
                sslContext = SslUtils.getInstance().getSSLContext(config.isAcceptAnyCertificate());

            SSLEngine sslEngine = sslContext.createSSLEngine();
            sslEngine.setUseClientMode(true);
            return sslEngine;
        }
    }

}