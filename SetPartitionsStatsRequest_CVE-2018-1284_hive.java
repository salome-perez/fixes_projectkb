public class SetPartitionsStatsRequest {
    public void write(org.apache.thrift.protocol.TProtocol prot, SetPartitionsStatsRequest struct) throws org.apache.thrift.TException {
      TTupleProtocol oprot = (TTupleProtocol) prot;
      {
        oprot.writeI32(struct.colStats.size());
        for (ColumnStatistics _iter280 : struct.colStats)
        {
          _iter280.write(oprot);
        }
      }
      BitSet optionals = new BitSet();
      if (struct.isSetNeedMerge()) {
        optionals.set(0);
      }
      oprot.writeBitSet(optionals, 1);
      if (struct.isSetNeedMerge()) {
        oprot.writeBool(struct.needMerge);
      }
    }

    @Override
    public void read(org.apache.thrift.protocol.TProtocol prot, SetPartitionsStatsRequest struct) throws org.apache.thrift.TException {
      TTupleProtocol iprot = (TTupleProtocol) prot;
      {
        org.apache.thrift.protocol.TList _list281 = new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.STRUCT, iprot.readI32());
        struct.colStats = new ArrayList<ColumnStatistics>(_list281.size);
        ColumnStatistics _elem282;
        for (int _i283 = 0; _i283 < _list281.size; ++_i283)
        {
          _elem282 = new ColumnStatistics();
          _elem282.read(iprot);
          struct.colStats.add(_elem282);
        }
      }
      struct.setColStatsIsSet(true);
      BitSet incoming = iprot.readBitSet(1);
      if (incoming.get(0)) {
        struct.needMerge = iprot.readBool();
        struct.setNeedMergeIsSet(true);
      }
    }

}