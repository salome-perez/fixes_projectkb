public class RecursiveMetadataResource {
    @PUT
    @Produces("application/json")
    public Response getMetadata(InputStream is, @Context HttpHeaders httpHeaders, @Context UriInfo info) throws Exception {
        return Response.ok(
                parseMetadata(is, httpHeaders.getRequestHeaders(), info)).build();
    }

}