public class PlatformUtils {
    @SuppressWarnings("deprecation")
    public static GridBinaryMarshaller marshaller() {
        BinaryContext ctx =
            new BinaryContext(BinaryNoopMetadataHandler.instance(), new IgniteConfiguration(), new NullLogger());

        BinaryMarshaller marsh = new BinaryMarshaller();

        marsh.setContext(new MarshallerContextImpl(null, null));

        ctx.configure(marsh, new IgniteConfiguration());

        return new GridBinaryMarshaller(ctx);
    }

}