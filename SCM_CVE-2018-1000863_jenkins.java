public class SCM {
    @SuppressWarnings("deprecation")
    @Exported(name="browser")
    public final @CheckForNull RepositoryBrowser<?> getEffectiveBrowser() {
        RepositoryBrowser<?> b = getBrowser();
        if(b!=null)
            return b;
        if (useAutoBrowserHolder) {
            if (autoBrowserHolder == null) {
                autoBrowserHolder = new AutoBrowserHolder(this);
            }
            return autoBrowserHolder.get();
        } else {
            try {
                return guessBrowser();
            } catch (RuntimeException x) {
                LOGGER.log(Level.WARNING, null, x);
                return null;
            }
        }
    }

}