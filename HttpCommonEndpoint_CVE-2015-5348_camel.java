public class HttpCommonEndpoint {
    public HttpBinding getBinding() {
        if (binding == null) {
            // create a new binding and use the options from this endpoint
            binding = new DefaultHttpBinding();
            binding.setHeaderFilterStrategy(getHeaderFilterStrategy());
            binding.setTransferException(isTransferException());
            if (getComponent() != null) {
                binding.setAllowJavaSerializedObject(getComponent().isAllowJavaSerializedObject());
            }
            binding.setEagerCheckContentAvailable(isEagerCheckContentAvailable());
        }
        return binding;
    }

}