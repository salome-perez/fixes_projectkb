public class GetTablesRequest {
    public void write(org.apache.thrift.protocol.TProtocol prot, GetTablesRequest struct) throws org.apache.thrift.TException {
      TTupleProtocol oprot = (TTupleProtocol) prot;
      oprot.writeString(struct.dbName);
      BitSet optionals = new BitSet();
      if (struct.isSetTblNames()) {
        optionals.set(0);
      }
      if (struct.isSetCapabilities()) {
        optionals.set(1);
      }
      oprot.writeBitSet(optionals, 2);
      if (struct.isSetTblNames()) {
        {
          oprot.writeI32(struct.tblNames.size());
          for (String _iter780 : struct.tblNames)
          {
            oprot.writeString(_iter780);
          }
        }
      }
      if (struct.isSetCapabilities()) {
        struct.capabilities.write(oprot);
      }
    }

    @Override
    public void read(org.apache.thrift.protocol.TProtocol prot, GetTablesRequest struct) throws org.apache.thrift.TException {
      TTupleProtocol iprot = (TTupleProtocol) prot;
      struct.dbName = iprot.readString();
      struct.setDbNameIsSet(true);
      BitSet incoming = iprot.readBitSet(2);
      if (incoming.get(0)) {
        {
          org.apache.thrift.protocol.TList _list781 = new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.STRING, iprot.readI32());
          struct.tblNames = new ArrayList<String>(_list781.size);
          String _elem782;
          for (int _i783 = 0; _i783 < _list781.size; ++_i783)
          {
            _elem782 = iprot.readString();
            struct.tblNames.add(_elem782);
          }
        }
        struct.setTblNamesIsSet(true);
      }
      if (incoming.get(1)) {
        struct.capabilities = new ClientCapabilities();
        struct.capabilities.read(iprot);
        struct.setCapabilitiesIsSet(true);
      }
    }

}