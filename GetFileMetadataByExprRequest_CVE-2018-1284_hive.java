public class GetFileMetadataByExprRequest {
    public void write(org.apache.thrift.protocol.TProtocol prot, GetFileMetadataByExprRequest struct) throws org.apache.thrift.TException {
      TTupleProtocol oprot = (TTupleProtocol) prot;
      {
        oprot.writeI32(struct.fileIds.size());
        for (long _iter714 : struct.fileIds)
        {
          oprot.writeI64(_iter714);
        }
      }
      oprot.writeBinary(struct.expr);
      BitSet optionals = new BitSet();
      if (struct.isSetDoGetFooters()) {
        optionals.set(0);
      }
      if (struct.isSetType()) {
        optionals.set(1);
      }
      oprot.writeBitSet(optionals, 2);
      if (struct.isSetDoGetFooters()) {
        oprot.writeBool(struct.doGetFooters);
      }
      if (struct.isSetType()) {
        oprot.writeI32(struct.type.getValue());
      }
    }

    @Override
    public void read(org.apache.thrift.protocol.TProtocol prot, GetFileMetadataByExprRequest struct) throws org.apache.thrift.TException {
      TTupleProtocol iprot = (TTupleProtocol) prot;
      {
        org.apache.thrift.protocol.TList _list715 = new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.I64, iprot.readI32());
        struct.fileIds = new ArrayList<Long>(_list715.size);
        long _elem716;
        for (int _i717 = 0; _i717 < _list715.size; ++_i717)
        {
          _elem716 = iprot.readI64();
          struct.fileIds.add(_elem716);
        }
      }
      struct.setFileIdsIsSet(true);
      struct.expr = iprot.readBinary();
      struct.setExprIsSet(true);
      BitSet incoming = iprot.readBitSet(2);
      if (incoming.get(0)) {
        struct.doGetFooters = iprot.readBool();
        struct.setDoGetFootersIsSet(true);
      }
      if (incoming.get(1)) {
        struct.type = org.apache.hadoop.hive.metastore.api.FileMetadataExprType.findByValue(iprot.readI32());
        struct.setTypeIsSet(true);
      }
    }

}